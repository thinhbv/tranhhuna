var FCKeditor=function(a,e,c,b,d){this.InstanceName=a;this.Width=e||"100%";this.Height=c||"200";this.ToolbarSet=b||"Default";this.Value=d||"";this.BasePath=FCKeditor.BasePath;this.CheckBrowser=true;this.DisplayErrors=true;this.Config={};this.OnError=null};FCKeditor.BasePath="/scripts/";FCKeditor.MinHeight=200;FCKeditor.MinWidth=750;FCKeditor.prototype.Version="2.6.6";FCKeditor.prototype.VersionBuild="25427";FCKeditor.prototype.Create=function(){document.write(this.CreateHtml())};FCKeditor.prototype.CreateHtml=function(){if(!this.InstanceName||this.InstanceName.length==0){this._ThrowError(701,"You must specify an instance name.");return""}var a="";if(!this.CheckBrowser||this._IsCompatibleBrowser()){a+='<input type="hidden" id="'+this.InstanceName+'" name="'+this.InstanceName+'" value="'+this._HTMLEncode(this.Value)+'" style="display:none" />';a+=this._GetConfigHtml();a+=this._GetIFrameHtml()}else{var c=this.Width.toString().indexOf("%")>0?this.Width:this.Width+"px",b=this.Height.toString().indexOf("%")>0?this.Height:this.Height+"px";a+='<textarea name="'+this.InstanceName+'" rows="4" cols="40" style="width:'+c+";height:"+b;if(this.TabIndex)a+='" tabindex="'+this.TabIndex;a+='">'+this._HTMLEncode(this.Value)+"</textarea>"}return a};FCKeditor.prototype.ReplaceTextarea=function(){if(document.getElementById(this.InstanceName+"___Frame"))return;if(!this.CheckBrowser||this._IsCompatibleBrowser()){var a=document.getElementById(this.InstanceName),c=document.getElementsByName(this.InstanceName),b=0;while(a||b==0){if(a&&a.tagName.toLowerCase()=="textarea")break;a=c[b++]}if(!a){alert('Error: The TEXTAREA with id or name set to "'+this.InstanceName+'" was not found');return}a.style.display="none";if(a.tabIndex)this.TabIndex=a.tabIndex;this._InsertHtmlBefore(this._GetConfigHtml(),a);this._InsertHtmlBefore(this._GetIFrameHtml(),a)}};FCKeditor.prototype._InsertHtmlBefore=function(c,a){if(a.insertAdjacentHTML)a.insertAdjacentHTML("beforeBegin",c);else{var b=document.createRange();b.setStartBefore(a);var d=b.createContextualFragment(c);a.parentNode.insertBefore(d,a)}};FCKeditor.prototype._GetConfigHtml=function(){var a="";for(var b in this.Config){if(a.length>0)a+="&amp;";a+=encodeURIComponent(b)+"="+encodeURIComponent(this.Config[b])}return'<input type="hidden" id="'+this.InstanceName+'___Config" value="'+a+'" style="display:none" />'};FCKeditor.prototype._GetIFrameHtml=function(){var b="fckeditor.html";try{if(/fcksource=true/i.test(window.top.location.search))b="fckeditor.original.html"}catch(d){}var c=this.BasePath+"editor/"+b+"?InstanceName="+encodeURIComponent(this.InstanceName);if(this.ToolbarSet)c+="&amp;Toolbar="+this.ToolbarSet;var a='<iframe id="'+this.InstanceName+'___Frame" src="'+c+'" width="'+this.Width+'" height="'+this.Height;if(this.TabIndex)a+='" tabindex="'+this.TabIndex;a+='" frameborder="0" scrolling="no"></iframe>';return a};FCKeditor.prototype._IsCompatibleBrowser=function(){return FCKeditor_IsCompatibleBrowser()};FCKeditor.prototype._ThrowError=function(b,a){this.ErrorNumber=b;this.ErrorDescription=a;if(this.DisplayErrors){document.write('<div style="COLOR: #ff0000">');document.write("[ FCKeditor Error "+this.ErrorNumber+": "+this.ErrorDescription+" ]");document.write("</div>")}typeof this.OnError=="function"&&this.OnError(this,b,a)};FCKeditor.prototype._HTMLEncode=function(a){if(typeof a!="string")a=a.toString();a=a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return a};(function(){var a=function(a){var b=new FCKeditor(a.name);b.Width=Math.max(a.offsetWidth,FCKeditor.MinWidth);b.Height=Math.max(a.offsetHeight,FCKeditor.MinHeight);return b};FCKeditor.ReplaceAllTextareas=function(){for(var e=document.getElementsByTagName("textarea"),d=0;d<e.length;d++){var c=null,b=e[d],f=b.name;if(!f||f.length==0)continue;if(typeof arguments[0]=="string"){var g=new RegExp("(?:^| )"+arguments[0]+"(?:$| )");if(!g.test(b.className))continue}else if(typeof arguments[0]=="function"){c=a(b);if(arguments[0](b,c)===false)continue}if(!c)c=a(b);c.ReplaceTextarea()}}})();function FCKeditor_IsCompatibleBrowser(){var a=navigator.userAgent.toLowerCase();if(false&&a.indexOf("mac")==-1){var b=navigator.appVersion.match(/MSIE (.\..)/)[1];return b>=5.5}return navigator.product=="Gecko"&&navigator.productSub>=20030210&&!(typeof opera=="object"&&opera.postError)?true:window.opera&&window.opera.version&&parseFloat(window.opera.version())>=9.5?true:a.indexOf(" adobeair/")!=-1?a.match(/ adobeair\/(\d+)/)[1]>=1:a.indexOf(" applewebkit/")!=-1?a.match(/ applewebkit\/(\d+)/)[1]>=522:false}